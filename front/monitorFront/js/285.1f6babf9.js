"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[285],{8993:function(a,e,l){l.d(e,{_:function(){return n},s:function(){return t}});const t=[{label:"地形数据",value:["DEM","边界","等高线","高程点","深泓线","固定断面线"]},{label:"工程数据",value:["护岸工程","码头工程","水利工程","整治工程","桥梁工程"]},{label:"物理模型",value:["浓度场","照片","视频"]},{label:"水文数据",value:["潮位","断面输沙率","含沙量","含盐度","流速流向","悬移质"]},{label:"遥感影像",value:["遥感影像"]},{label:"实时水位",value:["实时水位"]}],n=[{label:"地形数据",children:[{label:"DEM"},{label:"边界"},{label:"等高线"},{label:"高程点"},{label:"深泓线"},{label:"固定断面线"}]},{label:"工程数据",children:[{label:"护岸工程"},{label:"码头工程"},{label:"水利工程"},{label:"整治工程"},{label:"桥梁工程"}]},{label:"物理模型",children:[{label:"浓度场"},{label:"照片"},{label:"视频"}]},{label:"水文数据",children:[{label:"潮位"},{label:"断面输沙率"},{label:"含沙量"},{label:"含盐度"},{label:"流速流向"},{label:"悬移质"}]},{label:"遥感影像",children:[{label:"遥感影像"}]},{label:"实时水位",children:[{label:"实时水位"}]}]},8938:function(a,e,l){l.d(e,{Z:function(){return T}});var t=l(3396);const n=a=>((0,t.dD)("data-v-320d48f0"),a=a(),(0,t.Cn)(),a),d={class:"page-copyrught"},s={class:"top"},i=n((()=>(0,t._)("div",null,[(0,t._)("strong",null,"支撑服务")],-1))),o=n((()=>(0,t._)("div",{class:"border"},null,-1))),c=n((()=>(0,t._)("div",{class:"text-model"},"资源门户",-1))),u=n((()=>(0,t._)("div",{class:"text-model"},"监测与预报",-1))),r=n((()=>(0,t._)("div",{class:"text-model"},"水运一张图",-1))),p=n((()=>(0,t._)("div",{class:"text-model"},"工程可视化",-1))),m=n((()=>(0,t._)("div",{class:"text-model"},"分析中心",-1))),v=n((()=>(0,t._)("div",null,[(0,t._)("strong",null,"联系我们")],-1))),w=n((()=>(0,t._)("div",{class:"border"},null,-1))),_=n((()=>(0,t._)("div",{class:"text"},"地址：南京市广州路223号",-1))),g=n((()=>(0,t._)("div",{class:"text"},"南科院联系电话：025-85828808",-1))),f=n((()=>(0,t._)("div",{class:"text"},"邮箱：webmaster@nhri.cn",-1))),k=n((()=>(0,t._)("div",{class:"text"},"邮编：210029",-1))),b=n((()=>(0,t._)("div",null,[(0,t._)("strong",null,"关于我们")],-1))),H=n((()=>(0,t._)("div",{class:"border"},null,-1))),h=n((()=>(0,t._)("div",{class:"text"},"南京水利科学研究院",-1))),y=n((()=>(0,t._)("img",{src:"/resource/wx_code.jpg",alt:""},null,-1))),W=n((()=>(0,t._)("div",{class:"dividing-line one"},null,-1))),C=n((()=>(0,t._)("div",{class:"dividing-line two"},null,-1))),L=n((()=>(0,t._)("div",{class:"bottom"}," ©水利部交通运输部国家能源局南京水利科学研究院   |   Copyright ©2022   |   苏ICP备05007122号 ",-1)));function D(a,e,l,n,D,x){const z=(0,t.up)("el-col"),I=(0,t.up)("el-row");return(0,t.wg)(),(0,t.iD)("div",d,[(0,t._)("div",s,[(0,t.Wm)(I,null,{default:(0,t.w5)((()=>[(0,t.Wm)(z,{span:8},{default:(0,t.w5)((()=>[i,o,c,u,r,p,m])),_:1}),(0,t.Wm)(z,{span:8},{default:(0,t.w5)((()=>[v,w,_,g,f,k])),_:1}),(0,t.Wm)(z,{span:8},{default:(0,t.w5)((()=>[b,H,h,y])),_:1})])),_:1}),W,C]),L])}var x=(0,t.aZ)({setup(){}}),z=l(89);const I=(0,z.Z)(x,[["render",D],["__scopeId","data-v-320d48f0"]]);var T=I},2285:function(a,e,l){l.r(e),l.d(e,{default:function(){return aa}});var t=l(3396),n=l(9242),d=l(7139);const s={class:"admin-view",ref:"adminView"},i={class:"top"},o={class:"content"},c={key:1,class:"cards"},u={key:0},r={class:"config"},p={class:"total"},m={class:"sort"},v={class:"page"};function w(a,e,l,w,_,g){const f=(0,t.up)("el-input"),k=(0,t.up)("resource-class"),b=(0,t.up)("el-skeleton"),H=(0,t.up)("arrow-down"),h=(0,t.up)("el-icon"),y=(0,t.up)("el-button"),W=(0,t.up)("el-dropdown-item"),C=(0,t.up)("el-dropdown-menu"),L=(0,t.up)("el-dropdown"),D=(0,t.up)("Plus"),x=(0,t.up)("resource-card"),z=(0,t.up)("el-pagination"),I=(0,t.up)("el-empty"),T=(0,t.up)("el-backtop"),U=(0,t.up)("page-copyright");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",s,[(0,t._)("div",i,[(0,t.Wm)(f,{modelValue:a.input,"onUpdate:modelValue":e[0]||(e[0]=e=>a.input=e),placeholder:"输入要检索的内容",size:"large",onKeydown:(0,n.D2)(a.searchHandle,["enter"])},null,8,["modelValue","onKeydown"])]),(0,t._)("div",o,[(0,t.Wm)(k,{onChangeType:a.changeType},null,8,["onChangeType"]),a.skeletonFlag?((0,t.wg)(),(0,t.j4)(b,{key:0,rows:5,animated:""})):((0,t.wg)(),(0,t.iD)("div",c,[a.dataList.length?((0,t.wg)(),(0,t.iD)("div",u,[(0,t._)("div",r,[(0,t._)("div",p,"检索到 "+(0,d.zw)(a.total)+" 条记录",1),(0,t._)("div",m,[(0,t.Wm)(L,{trigger:"click",onCommand:a.sortHandle},{dropdown:(0,t.w5)((()=>[(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(W,{command:"update_time"},{default:(0,t.w5)((()=>[(0,t.Uk)("更新时间")])),_:1}),(0,t.Wm)(W,{command:"download"},{default:(0,t.w5)((()=>[(0,t.Uk)("下载量")])),_:1}),(0,t.Wm)(W,{command:"watch"},{default:(0,t.w5)((()=>[(0,t.Uk)("浏览量")])),_:1})])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(y,{color:"#5d6ab1",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,d.zw)(a.sortText),1),(0,t.Wm)(h,{class:"el-icon--right"},{default:(0,t.w5)((()=>[(0,t.Wm)(H)])),_:1})])),_:1})])),_:1},8,["onCommand"]),(0,t.Wm)(L,{trigger:"click",onCommand:a.showHandle},{dropdown:(0,t.w5)((()=>[(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(W,{command:"8"},{default:(0,t.w5)((()=>[(0,t.Uk)("每页显示条数（8）")])),_:1}),(0,t.Wm)(W,{command:"16"},{default:(0,t.w5)((()=>[(0,t.Uk)("每页显示条数（16）")])),_:1}),(0,t.Wm)(W,{command:"24"},{default:(0,t.w5)((()=>[(0,t.Uk)("每页显示条数（24）")])),_:1})])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(y,{color:"#5d6ab1",size:"small"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,d.zw)(a.sizeText),1),(0,t.Wm)(h,{class:"el-icon--right"},{default:(0,t.w5)((()=>[(0,t.Wm)(H)])),_:1})])),_:1})])),_:1},8,["onCommand"]),(0,t.Wm)(y,{color:"#5d6ab1",size:"small",onClick:a.createHandle},{default:(0,t.w5)((()=>[(0,t.Uk)(" 创建新条目"),(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(D)])),_:1})])),_:1},8,["onClick"])])]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.dataList,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l},[(0,t.Wm)(x,{dataListInfo:e,keyword:a.keyword,onClickHandle:a.clickHandle,onCommandHandle:a.commandHandle},null,8,["dataListInfo","keyword","onClickHandle","onCommandHandle"])])))),128)),(0,t._)("div",v,[(0,t.Wm)(z,{background:"",layout:"total, prev, pager, next",total:a.total,"page-size":a.pageSize,"onUpdate:pageSize":e[1]||(e[1]=e=>a.pageSize=e),onCurrentChange:a.pageChange,"current-page":a.currentPage,"onUpdate:currentPage":e[2]||(e[2]=e=>a.currentPage=e)},null,8,["total","page-size","onCurrentChange","current-page"])])])):((0,t.wg)(),(0,t.j4)(I,{key:1,description:"暂无数据"}))]))])],512),(0,t.Wm)(T,{right:100,bottom:100}),(0,t.Wm)(U)],64)}l(7658);var _=l(4870);const g=a=>((0,t.dD)("data-v-1da6a5aa"),a=a(),(0,t.Cn)(),a),f={class:"resource-class"},k=g((()=>(0,t._)("div",{class:"title"},"项目分类",-1))),b={class:"class-title"},H={class:"child"},h=["onClick"];function y(a,e,l,n,s,i){const o=(0,t.up)("el-affix");return(0,t.wg)(),(0,t.iD)("div",f,[(0,t.Wm)(o,{offset:100},{default:(0,t.w5)((()=>[k,(0,t._)("div",{class:(0,d.C_)("all"===a.active?"class-all active":"class-all"),onClick:e[0]||(e[0]=e=>a.clickHandle("all"))},(0,d.zw)("全部类别"),2),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.classList,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l,class:"class-item"},[(0,t._)("div",b,(0,d.zw)(e.label),1),(0,t._)("div",H,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.value,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l,class:(0,d.C_)(a.active===e?"child-label active":"child-label"),onClick:l=>a.clickHandle(e)},(0,d.zw)(e),11,h)))),128))])])))),128))])),_:1})])}var W=l(6583),C=l(8993),L=(0,t.aZ)({emits:["changeType"],setup(a,e){const l=(0,_.iH)("all"),t=a=>{const t=()=>{l.value=a,e.emit("changeType",a)};(0,W.Ds)(t,100)()};return{active:l,classList:C.s,clickHandle:t}}}),D=l(89);const x=(0,D.Z)(L,[["render",y],["__scopeId","data-v-1da6a5aa"]]);var z=x;const I=a=>((0,t.dD)("data-v-6a4eafe0"),a=a(),(0,t.Cn)(),a),T=["src"],U={class:"text-info"},M={class:"title"},Z=["innerHTML"],P={class:"update-time"},K=I((()=>(0,t._)("strong",null,"上次更新：",-1))),F={class:"watch-download"},j={class:"tags"},R=["innerHTML"],S={class:"des"},V=I((()=>(0,t._)("strong",null,"简介：",-1))),Y=["innerHTML"];function E(a,e,l,s,i,o){const c=(0,t.up)("View"),u=(0,t.up)("el-icon"),r=(0,t.up)("Download"),p=(0,t.up)("el-button"),m=(0,t.up)("Edit"),v=(0,t.up)("el-dropdown-item"),w=(0,t.up)("DeleteFilled"),_=(0,t.up)("el-dropdown-menu"),g=(0,t.up)("el-dropdown");return(0,t.wg)(),(0,t.iD)("div",{class:"dataList-card",onClick:e[1]||(e[1]=(...e)=>a.clickHandle&&a.clickHandle(...e))},[(0,t._)("div",null,[(0,t._)("img",{src:a.pictureUrl},null,8,T)]),(0,t._)("div",U,[(0,t._)("div",M,[(0,t._)("span",{innerHTML:a.replaceHandle(a.dataListInfo.name)},null,8,Z)]),(0,t._)("div",P,[K,(0,t._)("span",null,(0,d.zw)(a.updateTime),1)]),(0,t._)("div",F,[(0,t.Wm)(u,{style:{"margin-right":"5px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(c)])),_:1}),(0,t._)("span",null,(0,d.zw)(a.dataListInfo.watch),1),(0,t.Wm)(u,{style:{margin:"0 5px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(r)])),_:1}),(0,t._)("span",null,(0,d.zw)(a.dataListInfo.download),1)]),(0,t._)("div",j,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.dataListInfo.tags,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"tag-png",key:l},[(0,t._)("span",{innerHTML:a.replaceHandle(e)},null,8,R)])))),128))]),(0,t._)("div",S,[V,(0,t._)("span",{innerHTML:a.replaceHandle(a.dataListInfo.description)},null,8,Y)]),(0,t._)("div",{onClick:e[0]||(e[0]=(0,n.iM)((()=>{}),["stop"]))},[(0,t.Wm)(g,{trigger:"click",onCommand:a.commandHandle},{dropdown:(0,t.w5)((()=>[(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v,{command:"update"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(m)])),_:1}),(0,t.Uk)("修改")])),_:1}),(0,t.Wm)(v,{command:"delete"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w)])),_:1}),(0,t.Uk)("删除")])),_:1})])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(p,{type:"primary",text:""},{default:(0,t.w5)((()=>[(0,t.Uk)("操作")])),_:1})])),_:1},8,["onCommand"])])])])}var A=(0,t.aZ)({props:{dataListInfo:{type:Object},keyword:{type:String}},emits:["commandHandle","clickHandle"],setup(a,e){const l=(0,t.Fl)((()=>a.dataListInfo)),n=(0,t.Fl)((()=>(0,W.vc)(a.dataListInfo.updateTime,"yyyy-MM-dd hh:mm"))),d=(0,t.Fl)((()=>a.dataListInfo.avatar?`/monitor/visual/getAvatar/${a.dataListInfo.avatar}`:(0,W.xW)(a.dataListInfo.name))),s=e=>{const l=new RegExp("("+a.keyword+")","g");return e=e.replace(l,"<span style='color:red;'>"+a.keyword+"</span>"),e},i=a=>{e.emit("commandHandle",{type:a,id:l.value.id})},o=()=>{e.emit("clickHandle",l.value.id)};return{dataListInfo:l,updateTime:n,pictureUrl:d,replaceHandle:s,clickHandle:o,commandHandle:i}}});const J=(0,D.Z)(A,[["render",E],["__scopeId","data-v-6a4eafe0"]]);var O=J,$=l(26),q=l(8938),B=l(530),G=l.n(B),N=l(3824),Q=(0,t.aZ)({components:{ResourceClass:z,ResourceCard:O,PageCopyright:q.Z},setup(){const a=(0,_.iH)(!0),e=(0,_.iH)(""),l=(0,_.iH)(0),n=(0,_.iH)([]),d=(0,_.iH)(1),s=(0,_.iH)(8),i=(0,_.iH)("更新时间"),o=(0,_.iH)("每页显示条数（8）"),c=(0,_.iH)(!1),u=(0,_.iH)(""),r=(0,_.iH)(""),p=(0,_.iH)("update_time"),m=async(a,e,t,d,s)=>{const i={page:a,size:e,titleKeyword:t,property:d,flag:!1,type:s};G().start();const o=await(0,$.Jm)(i);null!=o&&0===o.code&&(n.value=o.data.list,l.value=o.data.total),G().done()},v=async a=>{await m(a-1,8,r.value,p.value,u.value),e.value=r.value,window.scrollTo({top:0,behavior:"smooth"})},w=async a=>{u.value="all"===a?"":a,r.value=e.value,d.value=1,await m(0,8,r.value,p.value,u.value),e.value=r.value,window.scrollTo({top:0,behavior:"smooth"})},g=async()=>{r.value=e.value,d.value=1,await m(d.value-1,8,r.value,p.value,u.value)},f=async a=>{if("update"===a.type)N.ZP.push({name:"updateResource",params:{id:a.id}});else if("delete"===a.type){const e=await(0,$._z)(a.id);e&&0===e.code&&(0,W.Iv)("success","成功","条目删除成功")}},k=a=>{console.log(a),N.ZP.push({name:"resourceDetail",params:{id:a}})},b=async a=>{switch(p.value=a,await m(0,s.value,r.value,p.value,u.value),d.value=1,a){case"update_time":i.value="更新时间";break;case"download":i.value="下载量";break;case"watch":i.value="浏览量";break}},H=async a=>{const e=s.value;switch(s.value=parseInt(a),await m(Math.floor(e*d.value/s.value),s.value,r.value,p.value,u.value),d.value=Math.floor(e*d.value/s.value)+1,a){case"8":o.value="每页显示条数（8）";break;case"16":o.value="每页显示条数（16）";break;case"24":o.value="每页显示条数（24）";break}},h=()=>{N.ZP.push({name:"createResource"})};return(0,t.bv)((async()=>{await m(0,8,"","update_time",""),a.value=!1})),{skeletonFlag:a,keyword:r,input:e,total:l,pageSize:s,dataList:n,currentPage:d,addProjectDialog:c,sortText:i,sizeText:o,pageChange:v,changeType:w,searchHandle:g,commandHandle:f,clickHandle:k,showHandle:H,sortHandle:b,createHandle:h}}});const X=(0,D.Z)(Q,[["render",w],["__scopeId","data-v-ddca7908"]]);var aa=X}}]);
//# sourceMappingURL=285.1f6babf9.js.map